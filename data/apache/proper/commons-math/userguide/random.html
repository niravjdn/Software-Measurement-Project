<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 28 August 2016
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160828" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Math &#x2013; The Commons Math User Guide - Data Generation</title>

	<link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="../css/site.css" type="text/css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

	<script type="text/javascript" src="../js/jquery.min.js"></script>
	<script type="text/javascript" src="../js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../js/prettify.min.js"></script>
	<script type="text/javascript" src="../js/site.js"></script>

                            
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>                                
<link rel="stylesheet" href="../css/prettify.css" media="all" type="text/css"/>                  
      </head>

	<body class="composite">
                          <a href="../../../index.html" id="bannerLeft" title="Apache Commons logo">
                                                                                        <img class="logo-left" src="../images/commons-logo.png"  alt="Apache Commons logo"/>
                </a>
                                              <a href="../index.html" id="bannerRight">
                                                                                                <img class="logo-right" src="../images/math.gif"  alt="Commons Math"/>
                </a>
      		<div class="clear"></div>

		<div class="navbar">
			<div class="navbar-inner">
				<div class="container-fluid">
					<a class="brand" href="../index.html">Apache Commons Math &trade;</a>
					<ul class="nav">      
                    
            <li id="publishDate">Last Published: 28 August 2016</li>
      <li class="divider">|</li> <li id="projectVersion">Version: 4.0-SNAPSHOT</li>
  </ul>
                    <div class="pull-right">	<ul class="nav">
						<li>
		              <a href="http://www.apachecon.com/" class="externalLink" title="ApacheCon">
    ApacheCon</a>
  		</li>
					<li>
		              <a href="http://www.apache.org" class="externalLink" title="Apache">
    Apache</a>
  		</li>
					<li>
		              <a href="../../../index.html" title="Commons">
    Commons</a>
  		</li>
		</ul>
</div>
				</div>
			</div>
		</div>

		<div class="container-fluid">
			<table class="layout-table">
				<tr>
					<td class="sidebar">
						<div class="well sidebar-nav">
										<ul class="nav nav-list">
		 		            						 <li class="nav-header">Math</li>
																				<li class="none">
		              <a href="../index.html" title="Overview">
    Overview</a>
  				</li>
 														<li class="none">
		              <a href="../../../math/download_math.cgi.html" title="Downloads">
    Downloads</a>
  				</li>
 														<li class="none">
		              <a href="../apidocs/index.html" title="Latest API docs (development)">
    Latest API docs (development)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.6.1/index.html" title="Javadoc (3.6.1 release)">
    Javadoc (3.6.1 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.6/index.html" title="Javadoc (3.6 release)">
    Javadoc (3.6 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.5/index.html" title="Javadoc (3.5 release)">
    Javadoc (3.5 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.4.1/index.html" title="Javadoc (3.4.1 release)">
    Javadoc (3.4.1 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.4/index.html" title="Javadoc (3.4 release)">
    Javadoc (3.4 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.3/index.html" title="Javadoc (3.3 release)">
    Javadoc (3.3 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.2/index.html" title="Javadoc (3.2 release)">
    Javadoc (3.2 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.1.1/index.html" title="Javadoc (3.1.1 release)">
    Javadoc (3.1.1 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.1/index.html" title="Javadoc (3.1 release)">
    Javadoc (3.1 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-3.0/index.html" title="Javadoc (3.0 release)">
    Javadoc (3.0 release)</a>
  				</li>
 														<li class="none">
		              <a href="../javadocs/api-2.2/index.html" title="Javadoc (2.2 release)">
    Javadoc (2.2 release)</a>
  				</li>
 														<li class="none">
		              <a href="../issue-tracking.html" title="Issue Tracking">
    Issue Tracking</a>
  				</li>
 														<li class="none">
		              <a href="http://git-wip-us.apache.org/repos/asf/commons-math.git" class="externalLink" title="Source Repository (current)">
    Source Repository (current)</a>
  				</li>
 														<li class="none">
		              <a href="http://wiki.apache.org/commons/Math" class="externalLink" title="Wiki">
    Wiki</a>
  				</li>
 														<li class="none">
		              <a href="../developers.html" title="Developers Guide">
    Developers Guide</a>
  				</li>
 														<li class="none">
		              <a href="../proposal.html" title="Proposal">
    Proposal</a>
  				</li>
 								</ul>
			<ul class="nav nav-list">
		 		            									 <li class="nav-header"><i class="icon-book"></i>User Guide</li>
																				<li class="none">
		              <a href="index.html" title="Contents">
    Contents</a>
  				</li>
 														<li class="none">
		              <a href="overview.html" title="Overview">
    Overview</a>
  				</li>
 														<li class="none">
		              <a href="stat.html" title="Statistics">
    Statistics</a>
  				</li>
 															<li class="none active">
		              <a href="random.html" title="Data Generation">
    Data Generation</a>
  				</li>
 														<li class="none">
		              <a href="linear.html" title="Linear Algebra">
    Linear Algebra</a>
  				</li>
 														<li class="none">
		              <a href="analysis.html" title="Numerical Analysis">
    Numerical Analysis</a>
  				</li>
 														<li class="none">
		              <a href="special.html" title="Special Functions">
    Special Functions</a>
  				</li>
 														<li class="none">
		              <a href="utilities.html" title="Utilities">
    Utilities</a>
  				</li>
 														<li class="none">
		              <a href="complex.html" title="Complex Numbers">
    Complex Numbers</a>
  				</li>
 														<li class="none">
		              <a href="distribution.html" title="Distributions">
    Distributions</a>
  				</li>
 														<li class="none">
		              <a href="fraction.html" title="Fractions">
    Fractions</a>
  				</li>
 														<li class="none">
		              <a href="transform.html" title="Transform Methods">
    Transform Methods</a>
  				</li>
 														<li class="none">
		              <a href="geometry.html" title="Geometry">
    Geometry</a>
  				</li>
 														<li class="none">
		              <a href="optimization.html" title="Optimization">
    Optimization</a>
  				</li>
 														<li class="none">
		              <a href="fitting.html" title="Curve Fitting">
    Curve Fitting</a>
  				</li>
 														<li class="none">
		              <a href="leastsquares.html" title="Least Squares">
    Least Squares</a>
  				</li>
 														<li class="none">
		              <a href="ode.html" title="Ordinary Differential Equations">
    Ordinary Differential Equations</a>
  				</li>
 														<li class="none">
		              <a href="genetics.html" title="Genetic Algorithms">
    Genetic Algorithms</a>
  				</li>
 														<li class="none">
		              <a href="filter.html" title="Filters">
    Filters</a>
  				</li>
 														<li class="none">
		              <a href="ml.html" title="Machine Learning">
    Machine Learning</a>
  				</li>
 														<li class="none">
		              <a href="exceptions.html" title="Exceptions">
    Exceptions</a>
  				</li>
 								</ul>
			<ul class="nav nav-list">
		 		            									 <li class="nav-header"><i class="icon-info-sign"></i>Project Documentation</li>
																								                                                                                                                                                                                                              								<li class="collapsed">
		              <a href="../project-info.html" title="Project Information">
    Project Information</a>
  									</li>
 																		                                                                                                                                                                                                                                								<li class="collapsed">
		              <a href="../project-reports.html" title="Project Reports">
    Project Reports</a>
  									</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">Commons</li>
																				<li class="none">
		              <a href="../../../index.html" title="Home">
    Home</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/licenses/" class="externalLink" title="License">
    License</a>
  				</li>
 																		                          								<li class="collapsed">
		              <a href="../../../components.html" title="Components">
    Components</a>
  									</li>
 																		                          								<li class="collapsed">
		              <a href="../../../sandbox.html" title="Sandbox">
    Sandbox</a>
  									</li>
 																		                          								<li class="collapsed">
		              <a href="../../../dormant.html" title="Dormant">
    Dormant</a>
  									</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">General Information</li>
																				<li class="none">
		              <a href="../../../security.html" title="Security">
    Security</a>
  				</li>
 														<li class="none">
		              <a href="../../../volunteering.html" title="Volunteering">
    Volunteering</a>
  				</li>
 														<li class="none">
		              <a href="../../../patches.html" title="Contributing Patches">
    Contributing Patches</a>
  				</li>
 														<li class="none">
		              <a href="../../../building.html" title="Building Components">
    Building Components</a>
  				</li>
 														<li class="none">
		              <a href="../../../commons-parent-pom.html" title="Commons Parent Pom">
    Commons Parent Pom</a>
  				</li>
 														<li class="none">
		              <a href="../../commons-build-plugin/index.html" title="Commons Build Plugin">
    Commons Build Plugin</a>
  				</li>
 														<li class="none">
		              <a href="../../../releases/index.html" title="Releasing Components">
    Releasing Components</a>
  				</li>
 														<li class="none">
		              <a href="http://wiki.apache.org/commons/FrontPage" class="externalLink" title="Wiki">
    Wiki</a>
  				</li>
 								</ul>
			<ul class="nav nav-list">
		 		            						 <li class="nav-header">ASF</li>
																				<li class="none">
		              <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How the ASF works">
    How the ASF works</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/getinvolved.html" class="externalLink" title="Get Involved">
    Get Involved</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/dev/" class="externalLink" title="Developer Resources">
    Developer Resources</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsorship">
    Sponsorship</a>
  				</li>
 														<li class="none">
		              <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">
    Thanks</a>
  				</li>
 								</ul>
							</div>
						<div id="poweredBy">
							                                                                                                      <a href="http://www.apache.org/events/current-event.html" title="ApacheCon" class="builtBy">
        <img class="builtBy"  alt="ApacheCon" src="http://www.apache.org/events/current-event-125x125.png"    />
      </a>
                                                                                                    <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
          						</div>
					</td>
					<td class="content">
						<!-- Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License. -->



<div class="section">
<h2><a name="a2_Data_Generation"></a>2 Data Generation</h2>


<div class="section">
<h3><a name="a2.1_Overview"></a>2.1 Overview</h3>
    
<p>
    The Commons Math <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/package-summary.html">o.a.c.m.random</a>
    package includes utilities for
    </p>
<ul>
        
<li>generating random numbers</li>
        
<li>generating random vectors</li>
        
<li>generating random strings</li>
        
<li>generating cryptographically secure sequences of random numbers or
         strings</li>
        
<li>generating random samples and permutations</li>
        
<li>analyzing distributions of values in an input file and generating
         values &quot;like&quot; the values in the file</li>
        
<li>generating data for grouped frequency distributions or
         histograms</li>
    </ul>
    
<p>
      These utilities rely on an underlying &quot;source of randomness&quot;, which in most
      cases is a pseudo-random number generator (PRNG) that produces sequences
      of numbers that are uniformly distributed within their range.
      Commons Math depends on <a class="externalLink" href="http://commons.apache.org/rng">Commons Rng</a>
      for the PRNG implementations.
    </p>
    
<p>
      A PRNG algorithm is often deterministic, i.e. it produces the same sequence
      when initialized with the same &quot;seed&quot;.
      This property is important for some applications like Monte-Carlo simulations,
      but makes such a PRNG often unsuitable for cryptographic purposes.
    </p>
</div>


<div class="section">
<h3><a name="a2.2_Random_Deviates"></a>2.2 Random Deviates</h3>
  
<p>
    </p>
<dl>
    
<dt>Random sequence of numbers from a probability distribution</dt>
    
<dd>
    There is no such thing as a single &quot;random number.&quot;  What can be
    generated  are <i>sequences</i> of numbers that appear to be random.  When
    using the built-in JDK function <tt>Math.random()</tt>, sequences of 
    values generated follow the 
    <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/eda/section3/eda3662.htm">
    Uniform Distribution</a>, which means that the values are evenly spread
    over the interval  between 0 and 1, with no sub-interval having a greater
    probability of containing generated values than any other interval of the
    same length.  The mathematical concept of a
    <a class="externalLink" href="http://www.itl.nist.gov/div898/handbook/eda/section3/eda36.htm">
    probability distribution</a> basically amounts to asserting that different
    ranges in the set  of possible values of a random variable have
    different probabilities of containing the value.  Commons Math supports
    generating random sequences from each of the distributions defined in the
    <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/distribution/package-summary.html">
      o.a.c.m.distribution</a> package.
    Please refer to the <a href="http://commons.apache.org/proper/commons-math/distribution.html">specific documentation</a>
    for more details.
    </dd>

    
<dt>Cryptographically secure random sequences</dt>
    
<dd>
    It is possible for a sequence of numbers to appear random, but
    nonetheless to be predictable based on the algorithm used to generate the
    sequence.
    When in addition to randomness, strong unpredictability is
    required, a
    <a class="externalLink" href="http://www.wikipedia.org/wiki/Cryptographically_secure_pseudo-random_number_generator">
    secure random number generator</a>
    should be used to generate values (or strings), for example an instance of
    the JDK-provided <tt>SecureRandom</tt> generator.
    In general, such secure generator produce sequence based on a source of
    true randomness, and sequences started with the same seed will diverge.

    The <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/RandomUtils.html">RandomUtils</a>
    class provides a method for wrapping a <tt>java.util.Random</tt> or
    <tt>java.security.SecureRandom</tt> instance in an object that implements
    the <a class="externalLink" href="http://commons.apache.org/proper/commons-rng/apidocs/org/apache/commons/rng/UniformRandomProvider.html">
    UniformRandomProvider</a> interface:
    
<div class="source">
<pre>
UniformRandomProvider rg = RandomUtils.asUniformRandomProvider(new java.security.SecureRandom());
</pre></div>
    </dd>
    </dl>
  
</div>


<div class="section">
<h3><a name="a2.3_Random_Vectors"></a>2.3 Random Vectors</h3>
  
<p>
    Some algorithms require random vectors instead of random scalars. When the
    components of these vectors are uncorrelated, they may be generated simply
    one at a time and packed together in the vector. The <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/UncorrelatedRandomVectorGenerator.html">
    UncorrelatedRandomVectorGenerator</a> class simplifies this
    process by setting the mean and deviation of each component once and
    generating complete vectors. When the components are correlated however,
    generating them is much more difficult. The <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/CorrelatedRandomVectorGenerator.html">
    CorrelatedRandomVectorGenerator</a> class provides this service. In this
    case, the user must set up a complete covariance matrix instead of a simple
    standard deviations vector. This matrix gathers both the variance and the
    correlation information of the probability law.
  </p>
  
<p>
    The main use for correlated random vector generation is for Monte-Carlo
    simulation of physical problems with several variables, for example to
    generate error vectors to be added to a nominal vector. A particularly
    common case is when the generated vector should be drawn from a <a class="externalLink" href="http://en.wikipedia.org/wiki/Multivariate_normal_distribution">
    Multivariate Normal Distribution</a>.
  </p>

  
<p></p>
<dl>
    
<dt>Generating random vectors from a bivariate normal distribution</dt>
<dd>
    
<div class="source">
<pre>
// Import common PRNG interface and factory class that instantiates the PRNG.
import org.apache.commons.rng.UniformRandomProvider;
import org.apache.commons.rng.RandomSource;

// Create (and possibly seed) a PRNG (could use any of the CM-provided generators).
long seed = 17399225432L; // Fixed seed means same results every time 
UniformRandomProvider rg = RandomSource.create(RandomSource.MT, seed);

// Create a GaussianRandomGenerator using &quot;rg&quot; as its source of randomness.
GaussianRandomGenerator rawGenerator = new GaussianRandomGenerator(rg);

// Create a CorrelatedRandomVectorGenerator using &quot;rawGenerator&quot; for the components.
CorrelatedRandomVectorGenerator generator = 
    new CorrelatedRandomVectorGenerator(mean, covariance, 1.0e-12 * covariance.getNorm(), rawGenerator);

// Use the generator to generate correlated vectors.
double[] randomVector = generator.nextVector();
... </pre></div>

    The <tt>mean</tt> argument is a <tt>double[]</tt> array holding the means
    of the random vector components.  In the bivariate case, it must have length 2.
    The <tt>covariance</tt> argument is a <tt>RealMatrix</tt>, which has to
    be 2 x 2.
    The main diagonal elements are the variances of the vector components and the
    off-diagonal elements are the covariances.
    For example, if the means are 1 and 2 respectively, and the desired standard deviations
    are 3 and 4, respectively, then we need to use
    
<div class="source">
<pre>
double[] mean = {1, 2};
double[][] cov = {{9, c}, {c, 16}};
RealMatrix covariance = MatrixUtils.createRealMatrix(cov); </pre></div>
    where &quot;c&quot; is the desired covariance. If you are starting with a desired correlation,
    you need to translate this to a covariance by multiplying it by the product of the
    standard deviations.  For example, if you want to generate data that will give Pearson's
    R of 0.5, you would use c = 3 * 4 * 0.5 = 6.
    </dd>
  </dl>
  
<p>
    In addition to multivariate normal distributions, correlated vectors from multivariate uniform
    distributions can be generated by creating a
    <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/UniformRandomGenerator.html">UniformRandomGenerator</a>
    in place of the 
    <tt>GaussianRandomGenerator</tt> above.  More generally, any
    <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/NormalizedRandomGenerator.html">NormalizedRandomGenerator</a>
    may be used.
  </p>

  
<p></p>
<dl>
    
<dt>Low discrepancy sequences</dt>
    
<dd>
    There exist several quasi-random sequences with the property that for all values of N, the subsequence
    x<sub>1</sub>, ..., x<sub>N</sub> has low discrepancy, which results in equi-distributed samples.
    While their quasi-randomness makes them unsuitable for most applications (i.e. the sequence of values
    is completely deterministic), their unique properties give them an important advantage for quasi-Monte Carlo simulations.<br />
    Currently, the following low-discrepancy sequences are supported:
    
<ul>
      
<li><a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/SobolSequenceGenerator.html">
      Sobol sequence</a> (pre-configured up to dimension 1000)</li>
      
<li><a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/HaltonSequenceGenerator.html">
      Halton sequence</a> (pre-configured up to dimension 40)</li>
    </ul>
    
<div class="source">
<pre>
// Create a Sobol sequence generator for 2-dimensional vectors
RandomVectorGenerator generator = new SobolSequence(2);

// Use the generator to generate vectors
double[] randomVector = generator.nextVector();
... </pre></div>

    The figure below illustrates the unique properties of low-discrepancy sequences when
    generating N samples in the interval [0, 1]. Roughly speaking, such sequences &quot;fill&quot;
    the respective space more evenly which leads to faster convergence in quasi-Monte Carlo
    simulations.<br />
    <img src="http://commons.apache.org/proper/commons-math/images/userguide/low_discrepancy_sequences.png" alt="Comparison of low-discrepancy sequences" />
    </dd>
  </dl>

</div>


<div class="section">
<h3><a name="a2.4_Random_Strings"></a>2.4 Random Strings</h3>
    
<p>
    The method <tt>nextHexString</tt> in
    <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/RandomUtils.DataGenerator.html">
      RandomUtils.DataGenerator</a> can be used to generate random strings of
    hexadecimal characters.
    It produces sequences of strings with good dispersion properties.
    A string can be generated in two different ways, depending on the value
    of the boolean argument passed to the method (see the Javadoc for more
    details).
    </p>
</div>


<div class="section">
<h3><a name="a2.5_Random_Permutations_Combinations_Sampling"></a>2.5 Random Permutations, Combinations, Sampling</h3>
  
<p>
    To select a random sample of objects in a collection, you can use the
    <tt>nextSample</tt> method provided by in
    <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math4/random/RandomUtils.DataGenerator.html">
      RandomUtils.DataGenerator</a>.
    Specifically, if <tt>c</tt> is a <tt>java.util.Collection&lt;T&gt;</tt>
    containing at least <tt>k</tt> objects, and <tt>randomData</tt> is a 
    <tt>RandomUtils.DataGenerator</tt> instance <tt>randomData.nextSample(c, k)</tt>
    will return an <tt>List&lt;T&gt;</tt> instance of size <tt>k</tt>
    consisting of elements randomly selected from the collection.
    If  <tt>c</tt> contains duplicate references, there may be duplicate
    references in the returned array; otherwise returned elements will be
    unique (i.e. the sampling is without replacement among the object
    references in the collection).
  </p>

  
<p>
    If <tt>n</tt> and <tt>k</tt> are integers with <tt>k &lt; n</tt>, then 
    <tt>randomData.nextPermutation(n, k)</tt> returns an <tt>int[]</tt>
    array of length <tt>k</tt> whose whose entries are selected randomly, 
    without repetition, from the integers <tt>0</tt> through
    <tt>n-1</tt> (inclusive).
  </p>
</div>


<div class="section">
<h3><a name="a2.6_Generating_data_like_an_input_file"></a>2.6 Generating data like an input file</h3>
    
<p>
    Using the <tt>EmpiricalDistribution</tt> class, you can generate data based on
    the values in an input file:
    </p>
<dl>
    
<div class="source">
<pre>
int binCount = 500;
EmpiricalDistribution empDist = new EmpiricalDistribution(binCount);
empDist.load(&quot;data.txt&quot;);
RealDistribution.Sampler sampler = empDist.createSampler(RandomSource.create(RandomSource.MT));
double value = sampler.nextDouble(); </pre></div>

    The entire input file is read and a probability density function is estimated
    based on data from the file.
    The estimation method is essentially the 
    <a class="externalLink" href="http://nedwww.ipac.caltech.edu/level5/March02/Silverman/Silver2_6.html">
      Variable Kernel Method</a> with Gaussian smoothing.
    The created sampler will return random values whose probability distribution
    matches the empirical distribution (i.e. if you generate a large number of
    such values, their distribution should &quot;look like&quot; the distribution of the
    values in the input file.
    The values are not stored in memory in this case either, so there is no limit to the
    size of the input file.
    </dl>
  
</div>

</div>



					</td>
				</tr>
			</table>
		</div>

		<div class="footer">
			<p>Copyright &copy;                    2003-2016
                        <a href="http://www.apache.org/">The Apache Software Foundation</a>.
            All Rights Reserved.</p>
                                                          				
<div class="center">Apache Commons, Apache Commons Math, Apache, the Apache feather logo, and the Apache Commons project logos are trademarks of The Apache Software Foundation.
      All other marks mentioned may be trademarks or registered trademarks of their respective owners.</div>
                          		</div>
	</body>

</html>